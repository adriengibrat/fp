{"version":3,"file":"fp.monads.min.js","sources":["../src/utils/object/has-own-property.js","../src/utils/object/assign.js","../../../../../../src/utils/_symbols.js","../src/utils/map.js","../../../../../../src/utils/_optims.js","../src/partial.js","../src/curry.js","../src/utils/object/create.js","../src/utils/object/define-properties.js","../../../../../../src/monads/interfaces/_container.js","../src/monads/interfaces/functor.js","../src/monads/interfaces/apply.js","../src/monads/interfaces/chain.js","../src/monads/interfaces/applicative.js","../src/utils/object/set-prototype.js","../src/utils/object/get-prototype.js","../src/monads/interfaces/monad.js","../src/monads/identity.js","../src/monads/noop.js","../src/utils/object/property-is-enumerable.js","../src/utils/object/values.js","../src/monads/maybe.js","../src/utils/trace.js","../src/compose.js","../src/monads/io.js","../src/monads/either.left.js","../src/monads/either.right.js","../src/monads/either.js","../../../../../../src/monads/index.js","../src/index.monads.js"],"sourcesContent":["/* global Object: false, Function: false */\n\nexport default Function.call.bind(Object.prototype.hasOwnProperty)\n","import hasOwnProperty from 'utils/object/has-own-property'\n\n/* global Object: false */\n\nexport default Object.assign || function assign (target) {\n\tfor (let index = 1; index < arguments.length; index++) {\n\t\tlet source = arguments[index]\n\t\tif (source != null)\n\t\t\tfor (let key in source)\n\t\t\t\tif (hasOwnProperty(source, key))\n\t\t\t\t\ttarget[key] = source[key]\n\t}\n\treturn target\n}\n","export const signature = Symbol('signature')\nexport const targetFn = Symbol('targetFn')\nexport const boundThis = Symbol('boundThis')\nexport const partialArgs = Symbol('partialArgs')\nexport const placeholder = Symbol('placeholder')\n","import hasOwnProperty from 'utils/object/has-own-property'\nimport {signature, targetFn} from 'symbols'\n\nmap[signature] = 'map :: (α, ?Integer, ?List L → β) → [α] L, ?Boolean = L.map !== map → [β]'\n\nexport default function map (iteratee, collection, useMethod = (collection.map[targetFn] || collection.map) !== map) {\n\tif (typeof collection.map === 'function' && useMethod) // objects with map method (array, functor/monad, etc.)\n\t\treturn collection.map(iteratee) \n\n\tconst mapped = new (collection.constructor) // default mapping\n\tfor (let key in collection)\n\t\tif (hasOwnProperty(collection, key))\n\t\t\tmapped[key] = iteratee(collection[key], key, collection)\n\treturn mapped\n}\n","export function apply (fn, context, args) {\n\tswitch (args.length) {\n\t\tcase 0:\n\t\t\treturn fn.call(context)\n\t\tcase 1:\n\t\t\treturn fn.call(context, args[0])\n\t\tcase 2:\n\t\t\treturn fn.call(context, args[0], args[1])\n\t\tcase 3:\n\t\t\treturn fn.call(context, args[0], args[1], args[2])\n\t\tcase 4:\n\t\t\treturn fn.call(context, args[0], args[1], args[2], args[3])\n\t\tcase 5:\n\t\t\treturn fn.call(context, args[0], args[1], args[2], args[3], args[4])\n\t\tcase 6:\n\t\t\treturn fn.call(context, args[0], args[1], args[2], args[3], args[4], args[5])\n\t\tcase 7:\n\t\t\treturn fn.call(context, args[0], args[1], args[2], args[3], args[4], args[5], args[6])\n\t\tcase 8:\n\t\t\treturn fn.call(context, args[0], args[1], args[2], args[3], args[4], args[5], args[6], args[7])\n\t\tcase 9:\n\t\t\treturn fn.call(context, args[0], args[1], args[2], args[3], args[4], args[5], args[6], args[7], args[8])\n\t\tdefault:\n\t\t\treturn fn.apply(context, args)\n\t}\n}\n\nexport function setArity (arity, fn) {\n\tarity >= 0 || (arity = 0)\n\tswitch (arity) {\n\t\tcase 0:\n\t\t\treturn function nullary () {\n\t\t\t\treturn apply(fn, this, arguments)\n\t\t\t}\n\t\tcase 1:\n\t\t\treturn function unary (a) {\n\t\t\t\treturn apply(fn, this, arguments)\n\t\t\t}\n\t\tcase 2:\n\t\t\treturn function binary (a, b) {\n\t\t\t\treturn apply(fn, this, arguments)\n\t\t\t}\n\t\tcase 3:\n\t\t\treturn function ternary (a, b, c) {\n\t\t\t\treturn apply(fn, this, arguments)\n\t\t\t}\n\t\tcase 4:\n\t\t\treturn function quaternary (a, b, c, d) {\n\t\t\t\treturn apply(fn, this, arguments)\n\t\t\t}\n\t\tcase 5:\n\t\t\treturn function quinary (a, b, c, d, e) {\n\t\t\t\treturn apply(fn, this, arguments)\n\t\t\t}\n\t\tcase 6:\n\t\t\treturn function senary (a, b, c, d, e, f) {\n\t\t\t\treturn apply(fn, this, arguments)\n\t\t\t}\n\t\tcase 7:\n\t\t\treturn function septenary (a, b, c, d, e, f, g) {\n\t\t\t\treturn apply(fn, this, arguments)\n\t\t\t}\n\t\tcase 8:\n\t\t\treturn function octonary (a, b, c, d, e, f, g, h) {\n\t\t\t\treturn apply(fn, this, arguments)\n\t\t\t}\n\t\tcase 9:\n\t\t\treturn function novenary (a, b, c, d, e, f, g, h, i) {\n\t\t\t\treturn apply(fn, this, arguments)\n\t\t\t}\n\t\tdefault:\n\t\t\tthrow Error(`Arity \"${arity}\" is not supported`) // wtf arity >= 10\n\t}\n}\n\nexport function toArray (list, length = list.length) {\n\tconst array = Array(length)\n\n\twhile (length--)\n\t\tarray[length] = list[length]\n\n\treturn array\n}\n\nexport function getLength (list, max, placeholder) {\n\tlet length = 0\n\tlet index = list.length\n\tindex > max && (index = max)\n\n\twhile (index--)\n\t\tlist[index] !== placeholder && length++\n\n\treturn length\n}\n\nexport function arrayConcat (a, b, placeholder) {\n\tconst aLength = a.length\n\tconst bLength = b.length\n\tconst array = Array() // cannot guess final length, because of placeholders\n\n\tfor (let i = 0, j = 0; i < aLength || j < bLength; i++)\n\t\tarray[i] = i >= aLength || a[i] === placeholder ? b[j++] : a[i]\n\n\treturn array\n}\n","import {setArity, arrayConcat, apply, getLength} from 'optims'\nimport {signature, targetFn, boundThis, partialArgs, placeholder} from 'symbols'\n\npartial[signature] = partialDebug[signature] = 'partial :: (α1, …, αN → β), ?[α1, …] = [] → (…, αN → β)'\n\npartial.placeholder = partialDebug.placeholder = placeholder\n\npartial.debug = partialDebug\n\nexport function partialDebug (fn, args = []) {\n\tconst applied = partial(fn, args)\n\n\t/* attach debug info */\n\tconst target = fn[targetFn] || fn\n\tapplied.toString = () => `/* partially applied */${target}`\n\tapplied[signature] = target[signature]\n\tapplied[targetFn] = target\n\tapplied[boundThis] = this\n\tapplied[partialArgs] = args\n\n\treturn applied\n}\n\nexport default function partial (fn, args = []) {\n\tconst length = fn.length\n\n\treturn setArity(length - getLength(args, length, placeholder), function partiallyApplied () {\n\t\treturn apply(fn, this, arrayConcat(args, arguments, placeholder))\n\t})\n}\n","import {setArity, apply, getLength} from 'optims'\nimport {signature, targetFn, placeholder} from 'symbols'\nimport partial, {partialDebug} from 'partial'\n\nconst curry = curryFactory(partial)\nconst curryDebug = curryFactory(partialDebug, debug)\n\ncurry[signature] = curryDebug[signature] = 'curry :: (α1, …, αN → β) A, ?Number N = A.length → (α1 → … → αN → β)'\n\ncurry.placeholder = curryDebug.placeholder = placeholder\n\ncurry.debug = curryDebug\n\nfunction curryFactory (partial, wrapper) {\n\treturn function curry (fn, arity = fn.length) {\n\t\tarity = parseInt(arity, 10) || 0\n\n\t\tconst _curried = setArity(arity, function curried () {\n\t\t\treturn getLength(arguments, arity, placeholder) === arity ?\n\t\t\t\tapply(fn, this, arguments) :\n\t\t\t\tpartial.call(this, _curried, arguments)\n\t\t})\n\n\t\treturn wrapper ? wrapper(_curried, fn) : _curried\n\t}\n}\n\nfunction debug (curried, fn) {\n\t/* attach debug info */\n\tconst target = fn[targetFn] || fn\n\tcurried.toString = () => `/* curried */${target}`\n\tcurried[signature] = target[signature]\n\tcurried[targetFn] = target\n\n\treturn curried\n}\n\nexport {curryDebug}\n\nexport default curry\n","/* global Object: false */\n\nexport default Object.create\n","/* global Object: false */\n\nexport default Object.defineProperties\n","import create from 'utils/object/create'\nimport assign from 'utils/object/assign'\nimport defineProperties from 'utils/object/define-properties'\n\nconst property = (value, settings) => assign({ value }, settings)\nconst define = (properties, method) => {\n\tif (method)\n\t\tproperties[method.name] = property(method, {enumerable: true})\n\treturn properties\n}\n\nexport function canning (constructor, value) {\n\treturn create(constructor.prototype, { valueOf: property(() => value)})\n}\n\n/* global Object: false */\n\nexport default ({constructor, methods, parent = Object}) => defineProperties(constructor, {\n\tprototype: property(\n\t\tcreate(parent.prototype, [].concat(methods).reduce(define, {\n\t\t\tconstructor: property(constructor)\n\t\t\t, toString: property(function toString () { return `${constructor.name}(${this.valueOf()})` })\n\t\t}))\n\t)\n\t, toString: property(function toString () { return `function ${constructor.name}(value) { [container] }` })\n})\n","import container, {canning} from 'container'\n\nexport default container({\n\tconstructor: function Functor (value) { return canning(Functor, value) }\n\t, methods: function map (fn) { return this.constructor(fn(this.valueOf())) }\n})\n","import Functor from 'interfaces/functor'\nimport container, {canning} from 'container'\n\nexport default container({\n\tconstructor: function Apply (value) { return canning(Apply, value) }\n\t, methods: function ap (functor) { return functor.map(this.valueOf()) }\n\t, parent: Functor\n})\n","import Apply from 'interfaces/apply'\nimport container, {canning} from 'container'\n\nexport default container({\n\tconstructor: function Chain (value) { return canning(Chain, value) }\n\t, methods: function chain (fn) { return this.map(fn).valueOf() }\n\t, parent: Apply\n})\n\n// Chain.prototype.chain = function chain (fn) { return this.map(fn).valueOf() }\n\n// Chain.prototype.chain = function chain (fn) { return fn(this.valueOf()) }\n\n// Chain.prototype.ap = function ap (functor) { return this.chain(fn => functor.map(fn)) }\n","import Apply from 'interfaces/apply'\nimport container, {canning} from 'container'\n\nexport default container({\n\tconstructor: function Applicative (value) { return canning(Applicative, value) }\n\t, methods: function of (value) { return this.constructor(value) }\n\t, parent: Apply\n})\n","/* global Object: false, TypeError: false */\n\nlet _setPrototype\ntry {\n\t_setPrototype = Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set\n\t_setPrototype.call({}, null)\n} catch (e) {\n\t_setPrototype = function setPrototype () {\n\t\tthis['__proto__'] = prototype // does not work in IE < 11\n\t}\n}\n\nfunction isObject (x) {\n\treturn typeof x === 'function' || typeof x === 'object' && x !== null\n}\n\nexport default Object.setPrototypeOf || function setPrototypeOf (object, prototype) {\n\tif (!isObject(object))\n\t\tthrow new TypeError('cannot set prototype on a non-object')\n\tif (!(prototype === null || isObject(proto)))\n\t\tthrow new TypeError(`can only set prototype to an object or null ${prototype}`)\n\t_setPrototype.call(object, prototype)\n\treturn object\n}\n","/* global Object: false */\n\nexport default Object.getPrototypeOf\n","import Chain from 'interfaces/chain'\nimport Applicative from 'interfaces/applicative'\nimport container, {canning} from 'container'\nimport setPrototype from 'utils/object/set-prototype'\nimport getPrototype from 'utils/object/get-prototype'\n\nconst Monad = container({\n\tconstructor: function Monad (value) { return canning(Monad, value) },\n\tparent: Chain\n})\n\nMonad.prototype = setPrototype(getPrototype(Monad.prototype), Applicative.prototype)\n\nexport default Monad\n\n// extract aka join ?\n// Comonad.prototype.extract = function extract (fn) { return this.valueOf() }\n\n// import identity from 'functions/identity'\n// Comonad.prototype.extract = function extract (fn) { return this.chain(identity) }\n","import container, {canning} from 'container'\nimport {signature} from 'symbols'\nimport Monad from 'interfaces/monad'\n\nconst Identity = container({\n\tconstructor: function Identity (value) { return canning(Identity, value) },\n\tparent: Monad\n})\n\nIdentity.of = Identity\n\nIdentity[signature] = 'Identity :: α → Identity α'\n\nexport default Identity\n","import container, {canning} from 'container'\nimport {signature} from 'symbols'\nimport Monad from 'interfaces/monad'\n\nconst Noop = container({\n\tconstructor: function Noop (value) { return canning(Noop, value) }\n\t, methods: [\n\t\tfunction map () { return this }\n\t\t, function chain () { return this }\n\t\t, function ap () { return this }\n\t]\n\t, parent: Monad\n})\n\nNoop.of = Noop\n\nNoop[signature] = 'Noop :: α → Noop α'\n\nexport default Noop\n","/* global Object: false, Function: false */\n\nexport default Function.call.bind(Object.prototype.propertyIsEnumerable)\n","import isEnumerable from 'utils/object/property-is-enumerable'\n\n/* global Object: false */\n\nexport default Object.values || function values (object) {\n\treturn Object.keys(object).reduce(\n\t\t(values, key) => (typeof key === 'string' && isEnumerable(object, key)) ?\n\t\t\tvalues.concat([object[key]]) :\n\t\t\tvalues\n\t\t, []\n\t)\n}\n","import container, {canning} from 'container'\nimport {signature} from 'symbols'\nimport Monad from 'interfaces/monad'\nimport Noop from 'monads/noop'\nimport values from 'utils/object/values'\n\nconst Maybe = container({\n\tconstructor: function Maybe (value) { return value == null ? nothing : Just(value) }\n\t, parent: Monad\n})\n\nMaybe.of = function of (value) { return Maybe(value) }\n\nMaybe[signature] = 'Maybe :: α|null → Maybe α null'\n\nconst Just = container({\n\tconstructor: function Just (value) { return canning(Just, value) }\n\t, methods: Maybe.of\n\t, parent: Maybe\n})\n\nconst Nothing = container({\n\tconstructor: function Nothing () { return canning(Nothing, null) }\n\t, methods: values(Noop.prototype).concat(Maybe.of)\n\t, parent: Maybe\n})\n\nconst nothing = Nothing(null)\n\nexport default Maybe\n\nexport { Just, Nothing }\n","import {signature} from 'symbols'\n\ntrace[signature] = 'trace :: String → α → α'\n\n/* global console: false */\n\nexport default function trace (tag, value) {\n\tconsole.log(`${tag} %1$O\\n%1$s`, value)\n\treturn value\n}\n","import {setArity, toArray, arrayConcat, apply} from 'optims'\nimport {signature, targetFn, boundThis} from 'symbols'\nimport map from 'utils/map'\nimport trace from 'utils/trace'\n\ncompose[signature] = composeDebug[signature] = composeTrace[signature] = \n'compose :: (…, αN → β), …, (α1, … → α2) → (α1, … → β)'\n\ncompose.debug = composeDebug\n\ncompose.trace = composeTrace\n\nfunction composer (args, fn) {\n\treturn arrayConcat(\n\t\t[apply(fn, this, toArray(args, fn.length || args.length))],\n\t\t[].slice.call(args, fn.length || 1)\n\t)\n}\n\nexport function composeTrace () {\n\treturn apply(compose, this, map((fn) => trace('compose', fn), arguments))\n}\n\nexport function composeDebug () {\n\tconst composed = apply(compose, null, arguments)\n\tconst last = arguments[arguments.length - 1]\n\n\t/* attach debug info */\n\tconst target = last[targetFn] || last\n\tcomposed.toString = () => `/* composed */${target}`\n\tcomposed[signature] = target[signature]\n\tcomposed[targetFn] = target\n\n\treturn composed\n}\n\nexport default function compose () {\n\tconst functions = toArray(arguments)\n\tconst last = arguments[arguments.length - 1]\n\n\treturn setArity(last && last.length || 0, function composed () {\n\t\treturn functions.reduceRight(composer, arguments).shift()\n\t})\n}\n","import container, {canning} from 'container'\nimport {signature} from 'symbols'\nimport Monad from 'interfaces/monad'\nimport compose from 'compose'\n\nconst IO = container({\n\tconstructor: function IO (value) { return canning(IO, value) }\n\t, methods: [\n\t\tfunction map (fn) { return IO(compose(fn, this.valueOf())) }\n\t\t, function of (value) { return IO(() => value) }\n\t]\n\t, parent: Monad\n})\n\nIO.of = IO.prototype.of\n\nIO[signature] = 'IO :: (* → α) → IO (* → α)'\n\nexport default IO\n","import container, {canning} from 'container'\nimport {signature} from 'symbols'\nimport Noop from 'monads/noop'\n\nconst Left = container({\n\tconstructor: function Left (value) { return canning(Left, value) },\n\tparent: Noop\n})\n\nLeft.of = Left\n\nLeft[signature] = 'Left :: α → Left α'\n\nexport default Left\n","import container, {canning} from 'container'\nimport {signature} from 'symbols'\nimport Monad from 'interfaces/monad'\n\nconst Right = container({\n\tconstructor: function Right (value) { return canning(Right, value) },\n\tparent: Monad\n})\n\nRight.of = Right\n\nRight[signature] = 'Right :: α → Right α'\n\nexport default Right\n","import {signature} from 'symbols'\nimport Left from 'monads/either.left'\nimport Right from 'monads/either.right'\n\neither.Left = Left\neither.Right = Right\n\neither[signature] = 'either :: (α → λ) → (β → λ) → Either α β → λ'\n\nexport default function either (left, right, either) {\n\tif (either instanceof Left)\n\t\treturn left(either.valueOf())\n\tif (either instanceof Right)\n\t\treturn right(either.valueOf())\n\tthrow TypeError(`${either} must be instance of Right or Left`)\n}\n\nexport { Right, Left }\n","export { default as Identity } from 'monads/identity'\nexport { default as Noop } from 'monads/noop'\nexport { default as Maybe, Just, Nothing } from 'monads/maybe'\nexport { default as IO } from 'monads/io'\nexport { default as either, Right, Left } from 'monads/either'\n\nexport { default as Functor } from 'interfaces/functor'\nexport { default as Apply } from 'interfaces/apply'\nexport { default as Applicative } from 'interfaces/applicative'\nexport { default as Chain } from 'interfaces/chain'\nexport { default as Monad } from 'interfaces/monad'\n","import assign from 'utils/object/assign'\nimport map from 'utils/map'\nimport curry from 'curry'\nimport * as monads from 'monads'\nimport fp from 'fp'\n\n/* global Function: false, Array: false */\n\nconst slice = Function.call.bind(Array.prototype.slice)\n\nfunction _apply (container, apply) { return apply.ap(container) }\n\nexport default assign(fp || {}, monads, {\n\tchain: curry.debug(function chain (fn, monad) { return monad.chain(fn) })\n\t, either: curry.debug(monads.either)\n\t, join: function join (comonad) { return comonad.join() }\n\t, lift: curry.debug(function lift (fn, apply) {\n\t\treturn slice(arguments, 2).reduce(_apply, map(fn, apply))\n\t})\n})\n"],"names":["map","iteratee","collection","useMethod","targetFn","const","mapped","let","key","hasOwnProperty","apply","fn","context","args","length","call","setArity","arity","this","arguments","a","b","c","d","e","f","g","h","i","Error","toArray","list","array","Array","getLength","max","placeholder","index","arrayConcat","aLength","bLength","j","partialDebug","applied","partial","target","toString","signature","boundThis","partialArgs","curryFactory","wrapper","parseInt","_curried","debug","curried","canning","constructor","value","create","prototype","valueOf","property","ref","Object","defineProperties","parent","concat","reduce","define","isObject","x","trace","tag","console","log","composer","slice","composeTrace","compose","composeDebug","composed","last","functions","reduceRight","shift","either","left","right","Left","Right","TypeError","Function","bind","assign","source","Symbol","curry","curryDebug","_setPrototype","settings","properties","method","name","enumerable","container","Functor","methods","Apply","functor","Chain","Applicative","getOwnPropertyDescriptor","set","setPrototypeOf","object","proto","getPrototypeOf","Monad","setPrototype","getPrototype","Identity","of","Noop","propertyIsEnumerable","values","keys","isEnumerable","Maybe","nothing","Just","Nothing","IO"],"mappings":"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"}